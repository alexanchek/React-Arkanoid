var y=Object.defineProperty;var w=(i,t,e)=>t in i?y(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var n=(i,t,e)=>(w(i,typeof t!="symbol"?t+"":t,e),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function e(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(s){if(s.ep)return;s.ep=!0;const r=e(s);fetch(s.href,r)}})();class E{constructor(t){n(this,"canvas");n(this,"context");n(this,"scoreDisplay");n(this,"start");n(this,"info");this.canvas=document.querySelector(t),this.context=this.canvas.getContext("2d"),this.scoreDisplay=document.querySelector("#score"),this.start=document.querySelector("#start"),this.info=document.querySelector("#info")}clear(){var t;(t=this.context)==null||t.clearRect(0,0,this.canvas.width,this.canvas.height)}initStartButton(t){var e;console.log("entered init start"),(e=this.start)==null||e.addEventListener("click",()=>t(this))}drawScore(t){console.log("draw a score"),this.scoreDisplay&&(this.scoreDisplay.innerHTML=t.toString())}drawInfo(t){this.info&&(this.info.innerHTML=t)}drawSprite(t){var e;t&&((e=this.context)==null||e.drawImage(t.image,t.pos.x,t.pos.y,t.width,t.height))}drawBricks(t){t.forEach(e=>{this.drawSprite(e)})}}class B{constructor(t,e,o,s){n(this,"ballImage",new Image);n(this,"ballSpeed");this.ballSize=e,this.position=o,this.ballImage.src=s,this.ballSize=e,this.ballSpeed={x:t,y:-t},this.position=o}get pos(){return this.position}get image(){return this.ballImage}get width(){return this.ballSize}get height(){return this.ballSize}changeYDirection(){this.ballSpeed.y=-this.ballSpeed.y}changeXDirection(){this.ballSpeed.x=-this.ballSpeed.x}moveBall(){this.pos.x+=this.ballSpeed.x,this.pos.y+=this.ballSpeed.y}}class I{constructor(t,e,o,s,r){n(this,"paddleImage",new Image);n(this,"moveLeft");n(this,"moveRight");n(this,"handleKeyUp",t=>{(t.code==="ArrowLeft"||t.key==="ArrowLeft")&&(this.moveLeft=!1),(t.code==="ArrowRight"||t.key==="ArrowRight")&&(this.moveRight=!1)});n(this,"handleKeyDown",t=>{(t.code==="ArrowLeft"||t.key==="ArrowLeft")&&(this.moveLeft=!0),(t.code==="ArrowRight"||t.key==="ArrowRight")&&(this.moveRight=!0)});this.speed=t,this.paddleWidth=e,this.paddleHeight=o,this.position=s,this.speed=t,this.paddleHeight=o,this.position=s,this.moveLeft=!1,this.moveRight=!1,this.paddleImage.src=r,document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}get width(){return this.paddleWidth}get height(){return this.paddleHeight}get pos(){return this.position}get image(){return this.paddleImage}get isMovingLeft(){return this.moveLeft}get isMovingRight(){return this.moveRight}movePaddle(){this.moveLeft&&(this.pos.x-=this.speed),this.moveRight&&(this.pos.x+=this.speed)}}class L{isCollidingBrick(t,e){return t.pos.x<e.pos.x+e.width&&t.pos.x+t.width>e.pos.x&&t.pos.y<e.pos.y+e.height&&t.pos.y+t.height>e.pos.y}isCollidingBricks(t,e){let o=!1;return e.forEach((s,r)=>{this.isCollidingBrick(t,s)&&(t.changeYDirection(),s.energy===1?e.splice(r,1):s.energy-=1,o=!0)}),o}checkBallCollision(t,e,o){t.pos.x+t.width>e.pos.x&&t.pos.x<e.pos.x+e.width&&t.pos.y+t.height===e.pos.y&&t.changeYDirection(),(t.pos.x>o.canvas.width-t.width||t.pos.x<0)&&t.changeXDirection(),t.pos.y<0&&t.changeYDirection()}}const R="/React-Arkanoid/assets/paddle-3c3cefec.png",S="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAHcSURBVEhLpZU7igJBEEC9wR7BI+yR9ggeYY+w4CcwEBHEwMBJzCcwE2ESEwUd8IOgwgj+wt5+zVQz486nd1coevpTr6qryupKJefXbDarjUbjQ4+eFv9FvHivmqf/Y73dbr+1Wq2uBkV6VEUSn+miU2igXq+/a09CgY3HY+X7vppOp2o+nxvhm7XhcGiNooNuJhyrAvU8T4VhqI7HY6FgqN/vGwPoZnquNwMO4E0Z8HU/4X2Q8lrH6hMoB1ygURSp6/Vq5HQ6qd1uZz2HZeC4L4lyuf7lclHP59MKcJxZLpcmJLBMSPSkxgKJcvH28XikwBgRPRhx4msV6pNJEARO4Pv9ngIzFzCM2GsfsKlXV/D5fFa3283AGZlngCNCYawsFgu13W6dvM4K2WazMQzhpcBskMD9fu9sgIpYrVYGmgJLKCh22WRcr9fmBofD4YcR1thLAtGBIZVhkzeZTFLgpBHXbxg2eVJuo9Ho32AYyXKrMtFFba7i6t3rudlsZhNHyzX/Ptok8MFg8CcwDnU6HQF3bb9Idjb6xW88x9Ner5ff4einUiEcdIEDJYRSCYU9Wdonh0kGylnxTCQKcFD6isTdzit7lmRf3/KrFJps0lwr7+0jZABt9jPepG+WJjn3jBU8FwAAAABJRU5ErkJggg==",D="/React-Arkanoid/assets/brick-red-1aa56f27.png",v="/React-Arkanoid/assets/brick-blue-6cb18b4e.png",x="/React-Arkanoid/assets/brick-green-99eb9f61.png",C="/React-Arkanoid/assets/brick-yellow-35fae3a4.png",G="/React-Arkanoid/assets/brick-purple-70f6d8c8.png",h=document.querySelector("#playField"),a=10,M=20,l=10,g=5,p=h?Math.floor((h.width-a*2)/l)-g:100,u=h?Math.floor((h.height-a*2)/M)-g:30,_=150,A=25,k=450,H=10,K=5,P=20,Y=500,U=400,T={1:D,2:x,3:C,4:v,5:G},W={1:1,2:1,3:2,4:2,5:3},q=[0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,2,2,2,2,2,2,2,2,0,0,3,3,3,3,3,3,3,3,0,0,0,4,4,4,4,4,4,0,0,0,0,5,5,0,0,5,5,0,0];class F{constructor(t,e,o,s,r){n(this,"brickImage",new Image);this.brickWidth=t,this.brickHeight=e,this.position=o,this.brickEnergy=s,this.brickWidth=t,this.brickHeight=e,this.position=o,this.brickEnergy=s,this.brickImage.src=r}get width(){return this.brickWidth}get height(){return this.brickHeight}get pos(){return this.position}get image(){return this.brickImage}get energy(){return this.brickEnergy}set energy(t){this.brickEnergy=t}}const N=()=>q.reduce((i,t,e)=>{const o=Math.floor((e+1)/l),s=e%l,r=a+s*(p+g),c=a+o*(u+g);return t===0?i:[...i,new F(p,u,{x:r,y:c},W[t],T[t])]},[]);let d=!1,f=0;function O(i){i.drawInfo("Game Over!"),d=!1}function J(i){i.drawInfo("Game Won!"),d=!1}function m(i,t,e,o,s){if(console.log("draw!"),i.clear(),i.drawBricks(t),i.drawSprite(e),i.drawSprite(o),o.moveBall(),(e.isMovingLeft&&e.pos.x>0||e.isMovingRight&&e.pos.x<i.canvas.width-e.width)&&e.movePaddle(),s.checkBallCollision(o,e,i),s.isCollidingBricks(o,t)&&(f+=1,i.drawScore(f)),o.pos.y>i.canvas.height&&(d=!0),t.length===0)return J(i);if(d)return O(i);requestAnimationFrame(()=>m(i,t,e,o,s))}function X(i){f=0,i.drawInfo(""),i.drawScore(0);const t=new L,e=N(),o=new B(K,P,{x:Y,y:U},S),s=new I(H,_,A,{x:k,y:i.canvas.height-A-5},R);m(i,e,s,o,t)}const z=new E("#playfield");z.initStartButton(X);
